{% extends 'base.html' %}
{% block title %}Dejar Reseña – IndepWork{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto py-10 animate-fade-in">
  <div class="bg-white rounded-2xl shadow-xl p-7 border border-[#276EF1]/10">
    <div class="flex items-center gap-4 mb-5">
      <img src="{{ req.service.professional.profile_image_url or url_for('static', filename='images/placeholder.png') }}"
           alt="{{ req.service.professional.username }}"
           class="w-16 h-16 rounded-full border-2 border-[#FF8800]/30 object-cover">
      <div>
        <h2 class="text-2xl font-black text-[#276EF1] mb-1">
          Dejar reseña a {{ req.service.professional.full_name or req.service.professional.username }}
        </h2>
        <div class="text-[#164399] font-semibold">{{ req.service.title }}</div>
        <div class="text-xs text-gray-400 mt-1">Fecha: {{ req.date_requested.strftime('%d-%m-%Y') }}</div>
      </div>
    </div>
    <form method="POST" class="space-y-6">
      {{ form.hidden_tag() }}
      <div>
        {{ form.rating.label(class_="block text-[#164399] font-bold mb-2") }}
        <div class="flex items-center gap-2">
          {{ form.rating(class_="form-control w-24 bg-[#f1f6fc] border border-[#276EF1]/20 rounded-lg text-lg font-black text-[#276EF1]", min="1", max="5") }}
          <span class="text-[#FF8800] text-xl font-bold">/ 5</span>
        </div>
        {% if form.rating.errors %}
          <div class="text-red-500 text-xs mt-1">{{ form.rating.errors[0] }}</div>
        {% endif %}
      </div>
      <div>
        {{ form.comment.label(class_="block text-[#164399] font-bold mb-2") }}
        {{ form.comment(class_="form-control w-full bg-[#f1f6fc] border border-[#276EF1]/20 rounded-lg", rows="4", placeholder="Describe tu experiencia con este servicio...") }}
        {% if form.comment.errors %}
          <div class="text-red-500 text-xs mt-1">{{ form.comment.errors[0] }}</div>
        {% endif %}
      </div>
      <button type="submit" class="w-full py-3 bg-[#276EF1] hover:bg-[#164399] text-white rounded-lg font-bold text-lg shadow transition flex items-center justify-center gap-2">
        <i class="fas fa-paper-plane"></i> Enviar reseña
      </button>
    </form>
  </div>
</div>
<style>
  @keyframes fade-in {0%{opacity:0;transform:translateY(40px);}100%{opacity:1;transform:none;}}
  .animate-fade-in {animation: fade-in 1.1s cubic-bezier(.6,0,.4,1) forwards;}
</style>
{% endblock %}
