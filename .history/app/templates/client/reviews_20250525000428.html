{% extends 'base.html' %}
{% block title %}Evaluar servicio{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto py-12 animate-fade-in">
  <div class="bg-white rounded-2xl shadow-xl p-8 border border-[#276EF1]/20">
    <h2 class="text-2xl font-extrabold text-[#276EF1] mb-5 flex items-center gap-3">
      <i class="fas fa-star text-[#FF8800]"></i>
      Evaluar a <span class="text-[#164399]">{{ professional.full_name or professional.username }}</span>
    </h2>
    <form method="POST" class="space-y-7">
      {{ form.hidden_tag() }}

      <!-- Rating -->
      <div>
        {{ form.rating.label(class_="block text-[#164399] font-bold mb-2") }}
        <div class="flex items-center gap-2">
          {{ form.rating(
            class_="form-control w-24 bg-[#f7fafd] border-2 border-[#276EF1]/30 rounded-lg text-xl font-black text-[#276EF1] focus:border-[#FF8800] focus:ring-2 focus:ring-[#FF8800]",
            min="1", max="5", placeholder="5"
          ) }}
          <span class="text-[#FF8800] text-2xl font-bold">/ 5</span>
        </div>
        {% if form.rating.errors %}
          <div class="text-red-500 text-xs mt-1">{{ form.rating.errors[0] }}</div>
        {% endif %}
      </div>

      <!-- Comentario -->
      <div>
        {{ form.comment.label(class_="block text-[#164399] font-bold mb-2") }}
        {{ form.comment(
          class_="form-control w-full bg-[#f7fafd] border-2 border-[#276EF1]/30 rounded-lg text-base text-[#164399] focus:border-[#FF8800] focus:ring-2 focus:ring-[#FF8800] placeholder-gray-400",
          rows="4",
          placeholder="Comparte tu experiencia o feedback…"
        ) }}
        {% if form.comment.errors %}
          <div class="text-red-500 text-xs mt-1">{{ form.comment.errors[0] }}</div>
        {% endif %}
      </div>
      
      <!-- Submit -->
      <button type="submit"
        class="w-full py-3 bg-gradient-to-r from-[#276EF1] to-[#FF8800] hover:from-[#1E5BB8] hover:to-[#CC7700] text-white rounded-lg font-extrabold text-lg shadow transition flex items-center justify-center gap-2">
        <i class="fas fa-paper-plane"></i> Enviar evaluación
      </button>
    </form>
  </div>
</div>
<style>
  @keyframes fade-in {0%{opacity:0;transform:translateY(40px);}100%{opacity:1;transform:none;}}
  .animate-fade-in {animation: fade-in 1.1s cubic-bezier(.6,0,.4,1) forwards;}
  .form-control, textarea, input[type=number] {
    color: #164399 !important;
    background: #f7fafd !important;
  }
  input[type=number]::-webkit-inner-spin-button,
  input[type=number]::-webkit-outer-spin-button { 
    -webkit-appearance: none; margin: 0; 
  }
</style>
{% endblock %}
