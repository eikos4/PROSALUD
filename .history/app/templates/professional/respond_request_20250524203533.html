{% extends 'base.html' %}
{% block title %}Responder solicitud{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto py-10">
  <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
    <h2 class="text-2xl font-bold text-[#276EF1] mb-3 flex items-center gap-2">
      <i class="fas fa-inbox"></i> Solicitud de <span class="text-[#FF8800]">{{ req.client.username }}</span>
    </h2>
    <div class="mb-2">
      <span class="font-semibold text-[#164399]">Servicio:</span>
      <span>{{ req.service.title }}</span>
    </div>
    <div class="mb-2">
      <span class="font-semibold">Mensaje del cliente:</span>
      <div class="bg-[#f5f7fc] text-gray-800 rounded-lg px-4 py-3 mt-1 mb-1 border border-[#276EF1]/20 shadow-sm">{{ req.message }}</div>
    </div>
    <div class="mb-4">
      <span class="font-semibold">Estado actual:</span>
      {% if req.status == 'pending' %}
        <span class="inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-bold">Pendiente</span>
      {% elif req.status == 'accepted' %}
        <span class="inline-block px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-bold">Aceptada</span>
      {% elif req.status == 'rejected' %}
        <span class="inline-block px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-bold">Rechazada</span>
      {% elif req.status == 'completed' %}
        <span class="inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold">Completada</span>
      {% endif %}
    </div>
    <form method="POST" class="space-y-5">
      {{ form.hidden_tag() }}
      <div>
        {{ form.status.label(class_="block text-[#276EF1] font-semibold mb-1") }}
        {{ form.status(class_="form-select w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#276EF1] bg-white") }}
      </div>
      <div class="flex flex-wrap gap-3 justify-between mt-5">
        {{ form.submit(class_="px-6 py-2 bg-[#276EF1] hover:bg-[#164399] text-white rounded-lg font-bold shadow transition") }}
        <a href="{{ url_for('professional.requests_list') }}" class="px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-lg font-bold shadow transition">Volver</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
